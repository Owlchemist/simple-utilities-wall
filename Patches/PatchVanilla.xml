<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationSequence">
		<success>Normal</success>
		<operations>
			<!-- Remove what we're replacing/adding, just to avoid patching errors -->
			<li Class="PatchOperationRemove">
				<success>Always</success>
				<xpath>/Defs/ThingDef[defName="Vent" or defName="Cooler"]/altitudeLayer | 
					/Defs/ThingDef[defName="Vent" or defName="Cooler"]/terrainAffordanceNeeded | 
					/Defs/ThingDef[defName="Vent" or defName="Cooler"]/fillPercent | 
				/Defs/ThingDef[defName="Vent" or defName="Cooler"]/passability</xpath>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/*[self::ThingDef[defName="Vent"] or self::ThingDef[defName="Cooler"]]</xpath>
				<value>
					<altitudeLayer>BuildingOnTop</altitudeLayer>
					<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
					<fillPercent>0.15</fillPercent>
					<passability>PassThroughOnly</passability>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName="Vent"]/graphicData/texPath</xpath>
				<value>
					<texPath>Things/Building/Misc/TempControl/VentB</texPath>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName="Cooler"]/graphicData/texPath</xpath>
				<value>
					<texPath>Things/Building/Misc/TempControl/CoolerB</texPath>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/ThingDef[defName="Vent" or defName="Cooler"]/placeWorkers</xpath>
				<value>
					<li>VanillaFurnitureExpanded.PlaceWorker_OnWall</li>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/ThingDef[defName="Vent" or defName="Cooler"]/comps</xpath>
				<value>
					<li Class="VanillaFurnitureExpanded.CompProperties_MountableOnWall"/>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<success>Always</success>
				<xpath>/Defs/ThingDef[defName="Vent" or defName="Cooler"]/building</xpath>
				<value>
					<isEdifice>false</isEdifice>
					<isInert>true</isInert>
				</value>
			</li>
			<li Class="PatchOperationAttributeAdd">
				<xpath>Defs/ThingDef[defName="Heater"]</xpath>
				<attribute>Name</attribute>
				<value>HeaterBase</value>
			</li>
		</operations>
	</Operation>
</Patch>